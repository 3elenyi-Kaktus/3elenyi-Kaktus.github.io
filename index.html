<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Persistent Queue</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="main.js"></script>
    <link rel="stylesheet" href="styles/styles.css">
    <link rel="icon" type="image/x-icon" href="content/favicon.ico">
</head>
<body>
    <div id="side_bar" class="side_bar">
        <span class="close_button" onclick="CloseSideBar()">&times;</span>

        <div class="side_bar_container">
            <label class="side_bar_text" id="locale_switcher_label" for="locale_switcher">Select locale:</label>
            <select id="locale_switcher" name="locale_switcher">
                <option value="en" selected>English</option>
                <option value="ru">Русский</option>
            </select>
        </div>

        <button id="debug_button" onclick="Debug()">Debug</button>

        <button id="update_layout_button" onclick="UpdateLayout()">Update Layout</button>
    </div>

    <div class="container_flex">
        <div class="side_bar_open_button" onclick="OpenSideBar()">
            <div class="bar1"></div>
            <div class="bar2"></div>
            <div class="bar3"></div>
        </div>
        <div class="versions_container">
            <svg id="versions_svg" class="versions_svg"></svg>
        </div>
    </div>





    <div class="main_dynamic_container">
            <svg id="main_svg" class="main_svg"></svg><!--
         --><svg id="secondary_svg" class="secondary_svg"></svg>
    </div>
    <p id="help_text" class="help_text" hidden="hidden"></p>


    <form id="push_form" class="push_form" onsubmit="return false">
        <label id="push_version_label" for="push_version"> Push new element to specific version: </label>
        <input type="text" id="push_version" class="push_version" name="push_version" size="3">
        <button id="push_button" class="push_button" onclick="Push()"> Push </button>
    </form>

    <form id="pop_form" class="pop_form" onsubmit="return false">
        <label id="pop_version_label" for="pop_version"> Pop last element from specific version: </label>
        <input type="text" id="pop_version" class="pop_version" name="pop_version" size="3">
        <button id="pop_button" class="pop_button" onclick="Pop()"> Pop </button>
    </form>

    <div id="step_by_step_container" class="step_by_step_container">
        <input type="checkbox" id="step_by_step_toggle_checkbox" class="step_by_step_toggle_checkbox" name="step_by_step_toggle_checkbox">
        <label id="step_by_step_toggle_checkbox_label" for="step_by_step_toggle_checkbox"> Activate Step-by-Step </label>
    </div>

    <button id="previous_step_button" onclick="PreviousStep()" hidden="hidden"> Previous step </button>

    <button id="next_step_button" onclick="NextStep()" hidden="hidden"> Next step </button>

<script>
    Setup();
</script>


    <div id="version_node_popup" class="popup">
        <div id="v_n_p_heading">Version pointers:</div>
        <div class="popup_line"><span id="v_n_p_head_txt">Head:</span><span class="popup_circle" style="background-color: green"></span><span id="head_id"></span></div>
        <div class="popup_line"><span id="v_n_p_tail_txt">Tail:</span><span class="popup_circle" style="background-color: red"></span><span id="tail_id"></span></div>
        <div class="popup_line"><span id="v_n_p_dynamic_txt">Dynamic:</span><span class="popup_circle" style="background-color: yellow"></span><span id="dynamic_id"></span></div>
        <div class="popup_line"><span id="v_n_p_operational_txt">Operational:</span><span class="popup_circle" style="background-color: aqua"></span><span id="operational_id"></span></div>
    </div>

    <div id="dynamic_node_popup" class="popup">
        <div id="d_n_p_heading">Node pointers:</div>
        <div class="popup_line"><span id="d_n_p_son_txt">Son:</span><span class="popup_circle" style="background-color: gray"></span><span id="dynamic_node_son_id"></span></div>
        <div class="popup_line"><span id="d_n_p_target_txt">Target node:</span><span class="popup_circle" style="background-color: gray"></span><span id="dynamic_node_target_id"></span></div>
    </div>

    <div id="main_node_popup" class="popup">
        <div id="m_n_p_heading">Node pointers:</div>
        <div class="popup_line"><span id="m_n_p_son_txt">Son:</span><span class="popup_circle" style="background-color: gray"></span><span id="main_node_son_id"></span></div>
    </div>

    <img id="banan" class="banan" src='content/banan_enhanced.gif' hidden="hidden" alt="">

    <svg style="position: absolute; top: 0; left: 0; height: 0; width: 0">
        <defs>
            <marker display="marker"
                    id="arrow"
                    viewBox="0 0 200 320"
                    refX="0"
                    refY="160"
                    markerWidth="5"
                    markerHeight="5"
                    orient="auto-start-reverse"
                    stroke="black">
                    <polyline points="0 0, 200 160, 0 320"></polyline>
            </marker>
        </defs>
    </svg>
</body>
</html>